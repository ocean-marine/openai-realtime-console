# OpenAI Realtime Console

React + Vite アプリケーション（OpenAI Realtime API + WebRTC使用）

## このプロジェクトが実現すること

OpenAI Realtime APIとWebRTCを活用したリアルタイム音声会話アプリケーション。以下の機能を提供：

- **リアルタイム音声対話** - OpenAI GPTモデルとの自然な音声会話
- **日本語対応** - 日本語での音声認識・合成に最適化
- **ペルソナ設定** - 年齢、性別、職業、性格などの詳細なキャラクター設定
- **シーン設定** - 面談背景、関係性、時間帯、場所などの対話コンテキスト設定
- **低遅延通信** - WebRTCによる高品質でリアルタイムな音声通信
- **イベントログ** - 送受信されるAPIイベントのリアルタイム監視
- **複数音声選択** - alloy、nova等の異なる音声タイプ対応
- **履歴管理** - 過去の会話セッション記録と再生機能

主な用途：言語学習、ロールプレイング、カスタマーサービス訓練、音声アシスタント開発のプロトタイプなど

## 技術スタック

- **React 18.2** - UIライブラリ
- **Vite 5.0** - ビルドツール
- **TailwindCSS 3.4** - CSSフレームワーク
- **Express** - APIサーバー（Vercel Functions）
- **OpenAI Realtime API** - 音声会話機能
- **WebRTC** - リアルタイム通信

## プロジェクト構造

- `client/` - React フロントエンド
  - `components/` - UIコンポーネント
  - `services/` - API通信ロジック
  - `utils/` - ユーティリティ関数
- `api/` - Vercel Functions（Express API）

## 開発コマンド

- `npm run dev` - 開発サーバー起動（localhost:3000）
- `npm run build` - 本番ビルド
- `npm run lint` - ESLint実行

## 重要なポイント

- 日本語UI対応済み（デフォルト指示: "自然な日本語で応対します"）
- WebRTC経由でRealtime API接続
- Vercelデプロイ設定済み
- 環境変数 `.env` ファイルでOpenAI API Key設定必須

---
description: "spec-driven development"
---

Claude Codeを用いたspec-driven developmentを行います。

## spec-driven development とは

spec-driven development は、以下の5つのフェーズからなる開発手法です。

### 1. 事前準備フェーズ

- ユーザーがClaude Codeに対して、実行したいタスクの概要を伝える
- このフェーズで !`mkdir -p ./.cckiro/specs`  を実行します
- `./cckiro/specs` 内にタスクの概要から適切な spec 名を考えて、その名前のディレクトリを作成します
    - たとえば、「記事コンポーネントを作成する」というタスクなら `./cckiro/specs/create-article-component` という名前のディレクトリを作成します
- 以下ファイルを作成するときはこのディレクトリの中に作成します

### 2. 要件フェーズ

- Claude Codeがユーザーから伝えられたタスクの概要に基づいて、タスクが満たすべき「要件ファイル」を作成する
- Claude Codeがユーザーに対して「要件ファイル」を提示し、問題がないかを尋ねる
- ユーザーが「要件ファイル」を確認し、問題があればClaude Codeに対してフィードバックする
- ユーザーが「要件ファイル」を確認し、問題がないと答えるまで「要件ファイル」に対して修正を繰り返す

### 3. 設計フェーズ

- Claude Codeは、「要件ファイル」に記載されている要件を満たすような設計を記述した「設計ファイル」を作成する
- Claude Codeがユーザーに対して「設計ファイル」を提示し、問題がないかを尋ねる
- ユーザーが「設計ファイル」を確認し、問題があればClaude Codeに対してフィードバックする
- ユーザーが「設計ファイル」を確認し、問題がないと答えるまで「要件ファイル」に対して修正を繰り返す

### 4. 実装計画フェーズ

- Claude Codeは、「設計ファイル」に記載されている設計を実装するための「実装計画ファイル」を作成する
- Claude Codeがユーザーに対して「実装計画ファイル」を提示し、問題がないかを尋ねる
- ユーザーが「実装計画ファイル」を確認し、問題があればClaude Codeに対してフィードバックする
- ユーザーが「実装計画ファイル」を確認し、問題がないと答えるまで「要件ファイル」に対して修正を繰り返す

### 5. 実装フェーズ

- Claude Codeは、「実装計画ファイル」に基づいて実装を開始する
- 実装するときは「要件ファイル」「設計ファイル」に記載されている内容を守りながら実装してください

---
開発フロー
---

- mainをpullする
- 新しいブランチを作成する
- コードを実装する
- コミット・プッシュする
- PR作成する

---
追加の指示
---

使用可能な場合、次のツールを最大限活用する
- Playwright MCP
- Serena MCP
